# Операционные среды и системное программирование
## Л.р.1. Управление процессами, потоками, нитями

### Цель:
Возобновление, закрепление и развитие навыков программирования приложений Windows.

**Концепции:**
- Вычислительные процессы, потоки, нити; реализация в Windows
- Основные этапы жизненного цикла процессов (потоков) и элементарное управление ими: порождение, завершение, получение и изменение состояния
- Типичное (простое) использование многозадачности и многопоточности

---

### Теоретическая и методическая часть

#### Вычислительные процессы
- Вычислительный процесс как системный объект, объект Process в Windows
- Атрибуты процесса
- Образ процесса
- Адресное пространство и пространство дескрипторов
- Состояния процесса

#### Вычислительные потоки
- Вычислительный поток как системный объект, объект Thread в Windows
- Атрибуты потока, в т.ч. приоритеты
- Состояния потока
- Разделяемые адресное пространство и пространство дескрипторов

#### Создание процессов
- Иерархия процессов: родительские (parent) и дочерние (child) процессы
- Завершение процессов
- Код завершения

#### Создание потоков
- Главный поток
- Диспетчирование потоков
- Приостановка и возобновление потоков
- Завершение потоков
- Код завершения

#### Нити (Fiber)
- Особенности их выполнения
- Взаимосвязь нитей и потоков
- Создание, завершение, переключение нитей

#### Программный интерфейс (API)
API для «базового» управления процессами, потоками и нитями.

---

### Практическая часть

#### Общая постановка задачи:
Приложение (или приложения), демонстрирующие простые ситуации, связанные с управлением процессами, потоками, нитями:
- создание, завершение
- получение информации о текущем состоянии
- манипулирование приоритетами
- оценка влияния на производительность приложения и на работу системы в целом

**Примечание:** Не требуется использовать специализированные механизмы взаимодействия и обращаться к подсистеме безопасности.

**Требования:** Приложения могут быть как оконными, так и консольными.

---

## Варианты заданий

### 1. Самовосстанавливающийся процесс
**Задача:** Возобновление работы процесса с сохранением текущих функций после завершения его сообщением `WM_CLOSE`.

**Решение:** 
- Процесс завершается штатным образом, но перед этим порождает свою копию
- Копия продолжает выполняться вместо родительского процесса

**Проблема:** Необходимость продолжить работу с теми же обрабатываемыми данными

**Вариант решения:** Хранение текущих рабочих данных в структуре («прикладной контекст»), которая может выгружаться на диск или сохраняться в глобальной памяти

### 2. Процесс-«диспетчер»
**Функции:**
- Выбор исполняемого файла, запуск процесса из него
- Хранение списка порожденных процессов
- Отображение состояния контролируемых процессов («выполняется», «завершился»)
- Возможность послать сообщение `WM_CLOSE` выбранному процессу
- Отображение возникающих ошибок

**Проверка состояния:** Периодический опрос с помощью Wait-функций (`WaitForSingleObject()`, `WaitForMultipleObjects()`)

### 3. Упрощенный аналог планировщика cron
**Задача:** Выполнение внешних программ в соответствии с заданным расписанием из файла конфигурации

**Содержание расписания:**
- Имена исполня