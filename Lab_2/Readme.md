# Системное программирование
## Л.р.4. Работа с файлами

### Цель:
Изучение расширенных/дополнительных возможностей и механизмов работы с файлами и организации ввода-вывода:
- неблокирующие и асинхронные операции
- мультиплексирование ввода-вывода
- отображение файлов в память

---

### Теоретическая и методическая часть

#### Подсистема ввода-вывода
- Разновидности ввода-вывода
- Логические устройства

#### Файл и файловая система
- Иерархия, виды файлов
- Файлы и директории (папки)
- Открытый файл (устройство) как объект
- Дескрипторный доступ, файловые дескрипторы (Handle)

#### Основной набор API для работы с файлами
- `CreateFile()`, `CloseHandle()`, `ReadFile()`, `WriteFile()`
- Синхронный ввод-вывод, в т.ч. неблокирующий

#### Асинхронный («перекрывающийся») ввод-вывод
- Структура `OVERLAPPED`
- Функции ожидания `WaitFor***`
- Варианты реализации контроля хода транзакций
```markdown
# Системное программирование — Лабораторная работа 2

## Л.р.4. Работа с файлами — Асинхронный ввод-вывод

### Цель
Изучение расширенных приёмов работы с файлами и вводом-выводом — асинхронные операции, мультиплексирование и отображение файлов в память.

### Выполненные задания

#### ✅ Задание 1: Асинхронная обработка файлов
**Статус:** Выполнено

**Описание:** Демонстрация обработки содержимого файла данных с использованием асинхронного ввода-вывода. Реализован полный пайплайн: чтение → обработка → запись, где все три стадии выполняются параллельно для разных блоков данных.

**Особенности:**
- Варьирование количества параллельных операций (1-16)
- Сравнение с синхронным подходом
- Измерение производительности и поиск узких мест
- Обработка файлов 200 MB с XOR-трансформацией

**Расположение:** `task1_async_io/`

**Запуск:**
```bash
cd task1_async_io
./run.sh              # или: make run  (8 операций по умолчанию)
wine async_io.exe 16  # С 16 параллельными операциями
```

**Подробности:** См. [task1_async_io/README.md](task1_async_io/README.md)

### Ключевые концепции
- Асинхронный («перекрывающийся») ввод-вывод
- Структуры `OVERLAPPED` для управления async операциями
- Пайплайн обработки данных (чтение || обработка || запись)
- Сравнительный анализ производительности
- FILE_FLAG_OVERLAPPED и события завершения
- Машина состояний для управления параллельными операциями

### Практические выводы
На быстрых SSD async I/O может быть медленнее из-за overhead, но реализация демонстрирует правильное использование Windows API для асинхронных операций, что критично для:
- Серверных приложений
- Network I/O
- Работы с множеством файлов
- Медленных устройств хранения

Это учебная демонстрация **правильной** реализации async I/O, даже если на современном железе sync быстрее.
```