# OSISP - Операционные среды и системное программирование

Лабораторные работы по курсу "Операционные среды и системное программирование".

## Требования

- **mingw-w64** - кросс-компилятор для Windows
- **Wine** - для запуска Windows приложений на Linux
- **CMake** - система сборки (версия 3.10 или выше)

## Установка зависимостей

```bash
# Ubuntu/Debian
sudo apt install mingw-w64 wine cmake

# Проверка установки
x86_64-w64-mingw32-gcc --version
wine --version
cmake --version
```

## Сборка проекта

```bash
# Конфигурация с использованием CMake и toolchain файла
cmake -B build -DCMAKE_TOOLCHAIN_FILE=toolchain-mingw64.cmake

# Сборка всех лабораторных работ
cmake --build build

# Или сборка конкретной цели
cmake --build build --target self_restoring
```

## Структура проекта

```
OSISP/
├── CMakeLists.txt              # Главный CMake файл
├── toolchain-mingw64.cmake     # Toolchain для кросс-компиляции
├── Lab_1/                      # Лабораторная работа 1
│   ├── CMakeLists.txt
│   ├── Readme.md
│   └── task1_self_restoring/   # Задание 1: Самовосстанавливающийся процесс
│       ├── CMakeLists.txt
│       ├── README.md
│       ├── self_restoring.c
│       └── Makefile            # Альтернативная сборка
└── .vscode/                    # Настройки VS Code для IntelliSense
    ├── settings.json
    └── c_cpp_properties.json
```

## Лабораторные работы

### [Лабораторная работа 1: Управление процессами, потоками, нитями](Lab_1/)
- **Задание 1:** Самовосстанавливающийся процесс

### [Лабораторная работа 2: Работа с файлами](Lab_2/)
- **Задание 1:** Асинхронный ввод-вывод

### [Лабораторная работа 3: Взаимодействие процессов](Lab_3/)
- **Задание 4:** Сервер логирования (Named Pipes)

### [Лабораторная работа 4: Синхронизация процессов](Lab_4/)
- **Задание 2:** Читатели-Писатели

### [Лабораторная работа 5: Сетевое программирование](Lab_5/)
- **Задание 1:** TCP Чат

### [Лабораторная работа 6: Системные задачи и библиотеки](Lab_6/)
- **Задание 7:** Динамическая библиотека (DLL)

## Сборка и запуск с помощью Global Makefile

В корне проекта находится `Makefile` для управления всеми лабораторными работами.

### Основные команды:

```bash
make all            # Сборка всех лабораторных работ
make clean          # Очистка всех лабораторных работ
```

### Команды для конкретных лабораторных:

**Лабораторная 1:**
```bash
make build-lab-1    # Сборка
make run-lab-1      # Запуск
```

**Лабораторная 2:**
```bash
make build-lab-2
make run-lab-2
```

**Лабораторная 3:**
```bash
make build-lab-3
make run-lab-3
```

**Лабораторная 4:**
```bash
make build-lab-4
make run-lab-4
```

**Лабораторная 5:**
```bash
make build-lab-5
make run-lab-5
```

**Лабораторная 6:**
```bash
make build-lab-6
make run-lab-6
```

## Автор

BSUIR, курс OSISP
